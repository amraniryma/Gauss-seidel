    for k in range(max_iterations):
        X_old = X.copy()
        for i in range(n):
            sum_before = sum(A[i][j] * X[j] for j in range(i))
            sum_after = sum(A[i][j] * X_old[j] for j in range(i+1, n))
            X[i] = (B[i] - sum_before - sum_after) / A[i][i]
        print(f"Iteration {k+1}: {X}")
        if np.allclose(X, X_old, atol=tol):
            return X
    return X
